@tailwind base;
@tailwind components;
@tailwind utilities;

/* Custom CSS Variables */
:root {
  /* Clay morphism variables */
  --clay-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
  --clay-shadow-lg: 0 12px 40px rgba(0, 0, 0, 0.15);
  --clay-shadow-inner: inset 0 2px 4px rgba(0, 0, 0, 0.06);
  --clay-shadow-soft: 0 4px 20px rgba(0, 0, 0, 0.08);
  --clay-border-radius: 16px;
  --clay-border-radius-lg: 20px;
  --clay-border-radius-xl: 24px;
  
  /* Design system variables */
  --background: 255 255 255;
  --foreground: 15 23 42;
  --border: 226 232 240;
  --input: 226 232 240;
  --ring: 59 130 246;
  --primary: 59 130 246;
  --primary-foreground: 255 255 255;
  --secondary: 241 245 249;
  --secondary-foreground: 15 23 42;
  --muted: 241 245 249;
  --muted-foreground: 100 116 139;
  --accent: 241 245 249;
  --accent-foreground: 15 23 42;
  --destructive: 239 68 68;
  --destructive-foreground: 255 255 255;
  --card: 255 255 255;
  --card-foreground: 15 23 42;
  --popover: 255 255 255;
  --popover-foreground: 15 23 42;
}

/* Dark mode variables */
.dark {
  /* Clay morphism dark variables */
  --clay-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
  --clay-shadow-lg: 0 12px 40px rgba(0, 0, 0, 0.4);
  --clay-shadow-inner: inset 0 2px 4px rgba(255, 255, 255, 0.05);
  --clay-shadow-soft: 0 4px 20px rgba(0, 0, 0, 0.2);
  
  /* Design system dark variables */
  --background: 15 23 42;
  --foreground: 248 250 252;
  --border: 51 65 85;
  --input: 51 65 85;
  --ring: 59 130 246;
  --primary: 59 130 246;
  --primary-foreground: 255 255 255;
  --secondary: 30 41 59;
  --secondary-foreground: 248 250 252;
  --muted: 30 41 59;
  --muted-foreground: 148 163 184;
  --accent: 30 41 59;
  --accent-foreground: 248 250 252;
  --destructive: 239 68 68;
  --destructive-foreground: 255 255 255;
  --card: 15 23 42;
  --card-foreground: 248 250 252;
  --popover: 15 23 42;
  --popover-foreground: 248 250 252;
}

/* Base styles */
@layer base {
  * {
    @apply border-border;
  }
  
  body {
    @apply bg-background text-foreground font-sans;
    font-feature-settings: "rlig" 1, "calt" 1;
  }
  
  html {
    scroll-behavior: smooth;
  }
  
  /* Custom scrollbar */
  ::-webkit-scrollbar {
    width: 8px;
    height: 8px;
  }
  
  ::-webkit-scrollbar-track {
    @apply bg-gray-100 dark:bg-gray-800 rounded-full;
  }
  
  ::-webkit-scrollbar-thumb {
    @apply bg-gray-300 dark:bg-gray-600 rounded-full hover:bg-gray-400 dark:hover:bg-gray-500;
  }
  
  /* Firefox scrollbar */
  * {
    scrollbar-width: thin;
    scrollbar-color: rgb(203 213 225) rgb(241 245 249);
  }
  
  .dark * {
    scrollbar-color: rgb(75 85 99) rgb(31 41 55);
  }
}

/* Component styles */
@layer components {
  /* Clay morphism card */
  .clay-card {
    @apply bg-white/80 dark:bg-gray-800/80 backdrop-blur-clay border border-gray-200/50 dark:border-gray-700/50 rounded-clay;
    box-shadow: var(--clay-shadow);
  }
  
  .clay-card-lg {
    @apply bg-white/80 dark:bg-gray-800/80 backdrop-blur-clay border border-gray-200/50 dark:border-gray-700/50 rounded-clay-lg;
    box-shadow: var(--clay-shadow-lg);
  }
  
  .clay-card-inner {
    @apply bg-gray-50/50 dark:bg-gray-900/50 border border-gray-200/30 dark:border-gray-700/30 rounded-clay;
    box-shadow: var(--clay-shadow-inner);
  }
  
  /* Clay morphism button */
  .clay-btn {
    @apply px-6 py-3 rounded-clay font-medium transition-all duration-200 border border-transparent;
    box-shadow: var(--clay-shadow-soft);
  }
  
  .clay-btn-primary {
    @apply clay-btn bg-primary-500 hover:bg-primary-600 text-white hover:shadow-clay-lg active:scale-95;
  }
  
  .clay-btn-secondary {
    @apply clay-btn bg-white/80 dark:bg-gray-800/80 hover:bg-white dark:hover:bg-gray-800 text-gray-700 dark:text-gray-300 border-gray-200/50 dark:border-gray-700/50 hover:shadow-clay-lg active:scale-95;
  }
  
  .clay-btn-success {
    @apply clay-btn bg-success-500 hover:bg-success-600 text-white hover:shadow-clay-lg active:scale-95;
  }
  
  .clay-btn-warning {
    @apply clay-btn bg-warning-500 hover:bg-warning-600 text-white hover:shadow-clay-lg active:scale-95;
  }
  
  .clay-btn-error {
    @apply clay-btn bg-error-500 hover:bg-error-600 text-white hover:shadow-clay-lg active:scale-95;
  }
  
  /* Clay morphism input */
  .clay-input {
    @apply w-full px-4 py-3 rounded-clay border border-gray-200/50 dark:border-gray-700/50 bg-white/80 dark:bg-gray-800/80 backdrop-blur-clay text-gray-900 dark:text-gray-100 placeholder-gray-500 dark:placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-primary-500/50 focus:border-primary-500/50 transition-all duration-200;
    box-shadow: var(--clay-shadow-inner);
  }
  
  .clay-input:focus {
    box-shadow: var(--clay-shadow-soft), 0 0 0 3px rgba(59, 130, 246, 0.1);
  }
  
  /* Clay morphism select */
  .clay-select {
    @apply clay-input appearance-none bg-no-repeat bg-right pr-10;
    background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 20 20'%3e%3cpath stroke='%236b7280' stroke-linecap='round' stroke-linejoin='round' stroke-width='1.5' d='m6 8 4 4 4-4'/%3e%3c/svg%3e");
    background-position: right 0.75rem center;
    background-size: 1.5em 1.5em;
  }
  
  /* Navigation styles */
  .nav-link {
    @apply flex items-center px-4 py-3 text-gray-700 dark:text-gray-300 hover:text-primary-600 dark:hover:text-primary-400 hover:bg-primary-50 dark:hover:bg-primary-900/20 rounded-clay transition-all duration-200;
  }
  
  .nav-link.active {
    @apply text-primary-600 dark:text-primary-400 bg-primary-50 dark:bg-primary-900/20;
    box-shadow: var(--clay-shadow-soft);
  }
  
  /* Table styles */
  .clay-table {
    @apply w-full bg-white/80 dark:bg-gray-800/80 backdrop-blur-clay rounded-clay overflow-hidden;
    box-shadow: var(--clay-shadow);
  }
  
  .clay-table th {
    @apply px-6 py-4 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider bg-gray-50/80 dark:bg-gray-900/80;
  }
  
  .clay-table td {
    @apply px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-gray-100 border-t border-gray-200/50 dark:border-gray-700/50;
  }
  
  .clay-table tbody tr:hover {
    @apply bg-gray-50/50 dark:bg-gray-700/50;
  }
  
  /* Modal styles */
  .clay-modal {
    @apply fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm;
  }
  
  .clay-modal-content {
    @apply clay-card-lg max-w-md w-full max-h-[90vh] overflow-y-auto;
  }
  
  /* Toast styles */
  .clay-toast {
    @apply clay-card px-6 py-4 max-w-sm w-full pointer-events-auto;
  }
  
  .clay-toast-success {
    @apply clay-toast border-l-4 border-success-500 bg-success-50/80 dark:bg-success-900/20;
  }
  
  .clay-toast-error {
    @apply clay-toast border-l-4 border-error-500 bg-error-50/80 dark:bg-error-900/20;
  }
  
  .clay-toast-warning {
    @apply clay-toast border-l-4 border-warning-500 bg-warning-50/80 dark:bg-warning-900/20;
  }
  
  .clay-toast-info {
    @apply clay-toast border-l-4 border-primary-500 bg-primary-50/80 dark:bg-primary-900/20;
  }
  
  /* Loading spinner */
  .loading-spinner {
    @apply inline-block w-6 h-6 border-2 border-current border-t-transparent rounded-full animate-spin;
  }
  
  /* Gradient backgrounds */
  .gradient-primary {
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
  }
  
  .gradient-success {
    background: linear-gradient(135deg, #84fab0 0%, #8fd3f4 100%);
  }
  
  .gradient-warning {
    background: linear-gradient(135deg, #ffecd2 0%, #fcb69f 100%);
  }
  
  .gradient-error {
    background: linear-gradient(135deg, #ff9a9e 0%, #fecfef 100%);
  }
  
  /* Utility classes */
  .text-balance {
    text-wrap: balance;
  }
  
  .text-pretty {
    text-wrap: pretty;
  }
  
  /* Animation classes */
  .animate-fade-in {
    animation: fadeIn 0.5s ease-in-out;
  }
  
  .animate-slide-in {
    animation: slideIn 0.3s ease-out;
  }
  
  .animate-bounce-soft {
    animation: bounceSoft 2s infinite;
  }
  
  .animate-pulse-soft {
    animation: pulseSoft 2s infinite;
  }
  
  /* Print styles */
  @media print {
    .no-print {
      display: none !important;
    }
    
    .clay-card,
    .clay-card-lg {
      box-shadow: none !important;
      border: 1px solid #e5e7eb !important;
      background: white !important;
    }
    
    body {
      background: white !important;
      color: black !important;
    }
  }
}

/* Utility layer */
@layer utilities {
  .text-shadow {
    text-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
  }
  
  .text-shadow-lg {
    text-shadow: 0 4px 8px rgba(0, 0, 0, 0.15);
  }
  
  .backdrop-blur-clay {
    backdrop-filter: blur(12px);
  }
  
  /* Focus visible styles */
  .focus-visible:focus-visible {
    @apply outline-none ring-2 ring-primary-500/50 ring-offset-2 ring-offset-white dark:ring-offset-gray-900;
  }
  
  /* Safe area insets for mobile */
  .safe-top {
    padding-top: env(safe-area-inset-top);
  }
  
  .safe-bottom {
    padding-bottom: env(safe-area-inset-bottom);
  }
  
  .safe-left {
    padding-left: env(safe-area-inset-left);
  }
  
  .safe-right {
    padding-right: env(safe-area-inset-right);
  }
}

/* Note: Tailwind forbids using certain utilities with @apply (e.g., "group"). 
   If you need grouping behavior, add "group" as a plain class to the element in your JSX/HTML:
   <a className="nav-link group">...</a>
*/
